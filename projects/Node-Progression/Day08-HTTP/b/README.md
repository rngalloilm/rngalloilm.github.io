# Activity 08.b: SSH Key Access to GitHub

In this activity, you will configure SSH key-based authentication to access your GitHub account. You will generate an SSH key pair on your VM, add the public key to your GitHub account, and test this SSH key-based authentication in your MV.

## Activity Resources

1. [SSH Key-Based Authentication](https://www.ssh.com/ssh/key/)
2. [GitHub SSH Key Authentication](https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh)

## Task 1: Create SSH Key Pair in your VM

In this task you will create a new public/private key pair using the `ssh-keygen` command in your virtual machine.

### Steps

1. Open a terminal. You can use PowerShell on Windows, Terminal on MacOS, or any terminal emulator on Linux.
2. Log in to your VM using SSH. Replace `unityId` with your Unity Id and `XXX` with your specific VM number:
   ```bash
   ssh unityId@csc342-XXX-host.csc.ncsu.edu
   ```
3. You should not be prompted for a password if you have already configured an SSH key for this VM. If you are, enter your Unity password when prompted.
4. Run the following command to generate a new SSH key pair. Make sure to use your NCSU email address. 
   ```bash
   ssh-keygen -t ed25519 -C "unityid@ncsu.edu"
   ```
5. You will be prompted to specify a file to save the key. Press `Enter` to accept the default location (`~/.ssh/id_ed25519`).
6. You will be prompted to enter a passphrase. You can press `Enter` to leave it empty, but using a passphrase adds an additional layer of security. If you choose to provide a passphrase, you will be prompted for it every time you connect using the SSH key.
7. Verify that the key pair has been generated by listing the contents of the `.ssh` directory in your home directory:
   ```bash
   ls ~/.ssh
   ```
   You should see at least two files: `id_ed25519` (private key) and `id_ed25519.pub` (public key).


## Task 2: Configure the Public Key in your GitHub Account

In this task you will add the public key generated in Task 1 to your GitHub account.

### Steps

1. Copy the contents of the **public** key you created in Task 1 (`id_ed25519.pub`) from your VM.
2. Open a browser and navigate to your [NC State GitHub account](https://github.ncsu.edu).
3. Click on your profile icon in the top right corner and select **Settings**.
4. In the left sidebar, click on **SSH and GPG keys**.
5. Click on **New SSH key**.
6. Give it a descriptive name (e.g., "CSC 342 VM") and paste the public key into the **Key** field.
7. Click **Add SSH key** to save the key.

## Task 3: Test SSH Key-Based Authentication

In this task you will verify that you can use your repository in your VM without entering your a password.

### Steps

1. Open your browser and navigate to your individual repository in your GitHub account.
2. Click on the green **Code** button, click on the SSH tab, and copy the SSH URL. It should look like `git@github.ncsu.edu:engr-csc342...`.
3. In your VM, navigate to the `/var/webfolder` directory.
4. Follow the instructions in the [Class Portal](https://webdev.csc.ncsu.edu/) to clone your repository using the SSH URL. Notice the period at the end of the clone command.


## Note

Your SSH key pair are credentials that allow anyone who has them to use GitHub as you (using your account). Keep your private key secure and do not share it with anyone. If you suspect that your private key has been compromised, you should generate a new key pair and delete the old key from GitHub.
